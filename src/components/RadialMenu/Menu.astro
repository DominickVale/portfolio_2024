---
import { BrandIcon } from '../icons'
type Props = {
  id: string
  size: string
}

const { id, size } = Astro.props
---

<div id={id} class="radial-menu-wrapper" style=`--size: ${size};`>
  <ul class="radial-menu">
    <div class="radial-menu-thumb">
      <BrandIcon />
    </div>
    <svg class="radial-menu-shape" width="100%" height="100%">
      <defs class="pointer-events-none"
        ><mask width="110%" height="110%"> </mask>
      </defs
      >
    </svg>
  </ul>
  <div class="radial-menu-bgs">
  </div>
</div>

<style is:global>
  .radial-menu-bgs{
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    pointer-events: none;
  }
  .radial-menu-wrapper {
    position: fixed;
    left: var(--pos-x);
    top: var(--pos-y);
    height: var(--size);
    width: var(--size);
    transform: translate(-50%, -50%);
    z-index: 10;
  }
  .radial-menu {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .radial-menu-item-bg {
    --progress: 0;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    border-radius: 100%;
    backdrop-filter: blur(var(--blur-radial));
    background: var(--bg-radial-02);

    mask: var(--mask);
    -webkit-mask: var(--mask);
    z-index: -1;
    &[data-highlighted='true'] {
      background: radial-gradient(white var(--progress), rgba(255,255,255, 0.95) var(--progress));
    }
  }
  .radial-menu-item {
    @apply gap-1;
    pointer-events: none;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
    position: absolute;
    top: var(--y);
    left: var(--x);
    transform: translate(-50%, -50%);
    &[data-highlighted='true'] {
      path {
        @apply fill-background-dark;
      }
      @apply text-background-dark;
    }
  }
  .radial-menu-item-label {
    @apply text-xs;
  }
  .radial-menu-shape {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .radial-menu-thumb {
    --x: 50%;
    --y: 50%;
    position: absolute;
    height: 2.5rem;
    width: 2.5rem;
    border-radius: 100%;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    left: var(--x);
    top: var(--y);
    transform: translate(-50%, -50%);
  }
</style>
